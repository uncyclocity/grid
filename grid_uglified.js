var sw=0,db=[],tmp=-1,greenblue="#00c2ab",bright_greenblue="#e9fffc",white="#ffffff";function cell_reset(){var e=document.getElementById(tmp+"_1"),t=document.getElementById(tmp+"_2"),l=document.getElementById(tmp+"_3"),n="#616161";e.style.backgroundColor=white,t.style.backgroundColor=white,l.style.backgroundColor=white,e.style.color=n,t.style.color=n,l.style.color=n,document.getElementById("output_area").value="",tmp=-1}function disabled(){var e=document.getElementById("save_btn"),t=document.getElementById("name"),l=document.getElementById("part"),n=document.getElementById("hint1"),o=document.getElementById("hint2"),d="#b1b1b1";e.disabled=!0,t.disabled=!0,l.disabled=!0,e.style.borderColor=d,e.style.color=d,n.style.color=d,o.style.color=d}function abled(){var e=document.getElementById("save_btn"),t=document.getElementById("name"),l=document.getElementById("part"),n=document.getElementById("hint1"),o=document.getElementById("hint2"),d="#00c2ab";e.disabled=!1,t.disabled=!1,l.disabled=!1,e.style.borderColor=d,e.style.color=d,n.style.color=d,o.style.color=d}function isNotEmpty(e,t){return""==e?(alert("이름을 입력하세요"),!1):""!=t||(alert("부서를 입력하세요"),!1)}function clear(){document.getElementById("name").value="",document.getElementById("part").value=""}function add(){var e=document.getElementById("add_btn");1!=sw?(sw=1,e.style.backgroundColor=greenblue,e.style.color=bright_greenblue,-1!=tmp&&cell_reset(),abled()):(sw=0,e.style.backgroundColor=bright_greenblue,e.style.color=greenblue,disabled()),clear()}function cell_focus(e){var t,l,n,o;2!=sw?(o=document.getElementById("add_btn"),1==sw&&(o.style.backgroundColor=bright_greenblue,o.style.color=greenblue),sw=2,abled(),t=document.getElementById(e+"_1"),l=document.getElementById(e+"_2"),n=document.getElementById(e+"_3"),o=document.getElementById("output_area"),t.style.backgroundColor=greenblue,l.style.backgroundColor=greenblue,n.style.backgroundColor=greenblue,t.style.color=white,l.style.color=white,n.style.color=white,tmp=e,document.getElementById("name").value=db[e-1][1],document.getElementById("part").value=db[e-1][2],o.value=db[e-1][1]+", "+db[e-1][2]):e!=tmp?(cell_reset(),t=document.getElementById(e+"_1"),l=document.getElementById(e+"_2"),n=document.getElementById(e+"_3"),o=document.getElementById("output_area"),t.style.backgroundColor=greenblue,l.style.backgroundColor=greenblue,n.style.backgroundColor=greenblue,t.style.color=white,l.style.color=white,n.style.color=white,tmp=e,document.getElementById("name").value=db[e-1][1],document.getElementById("part").value=db[e-1][2],o.value=db[e-1][1]+", "+db[e-1][2]):(cell_reset(),sw=0,disabled(),clear())}function save(){var e,t,l,n,o=document.getElementById("name").value,d=document.getElementById("part").value;switch(sw){case 1:isNotEmpty(o,d)&&(e=(l=document.getElementById("grid_main")).rows.length,t=(n=l.insertRow(e)).insertCell(0),l=n.insertCell(1),n=n.insertCell(2),t.innerHTML="<center><div class='cell' id='"+e+"_1' onclick='cell_focus("+e+")'>"+e+"</div></center>",l.innerHTML="<center><div class='cell' id='"+e+"_2' onclick='cell_focus("+e+")'>"+o+"</div></center>",n.innerHTML="<center><div class='cell' id='"+e+"_3' onclick='cell_focus("+e+")'>"+d+"</div></center>",db[db.length]=[e,o,d],alert("추가완료"),clear());break;case 2:isNotEmpty(o,d)&&(document.getElementById(tmp+"_2").innerText=o,document.getElementById(tmp+"_3").innerText=d,db[tmp-1]=[tmp,o,d],alert("수정완료"));break;default:alert("수정하시려면 해당 행을 누르시고, 추가하려면 [추가]를 누르세요")}}