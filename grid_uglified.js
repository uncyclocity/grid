var sw=0,db=[],tmp=-1;function cell_reset(){var e=document.getElementById(tmp+"_1"),t=document.getElementById(tmp+"_2"),l=document.getElementById(tmp+"_3");e.style.backgroundColor="#ffffff",t.style.backgroundColor="#ffffff",l.style.backgroundColor="#ffffff",e.style.color="#616161",t.style.color="#616161",l.style.color="#616161",tmp=-1}function disabled(){var e=document.getElementById("save_btn"),t=document.getElementById("name"),l=document.getElementById("part"),n=document.getElementById("hint1"),d=document.getElementById("hint2"),o="#b1b1b1";e.disabled=!0,t.disabled=!0,l.disabled=!0,e.style.borderColor=o,e.style.color=o,n.style.color=o,d.style.color=o,text_box_color=o}function abled(){var e=document.getElementById("save_btn"),t=document.getElementById("name"),l=document.getElementById("part"),n=document.getElementById("hint1"),d=document.getElementById("hint2"),o="#00c2ab";e.disabled=!1,t.disabled=!1,l.disabled=!1,e.style.borderColor=o,e.style.color=o,n.style.color=o,d.style.color=o,text_box_color=o}function isEmpty(e,t){return""==e?(alert("이름을 입력하세요"),!1):""!=t||(alert("부서를 입력하세요"),!1)}function add(){1!=sw?(sw=1,document.getElementById("add_btn").style.backgroundColor="#00c2ab",document.getElementById("add_btn").style.color=" #e9fffc",-1!=tmp&&cell_reset(),abled()):(sw=0,document.getElementById("add_btn").style.backgroundColor="#e9fffc",document.getElementById("add_btn").style.color="#00c2ab",disabled()),document.getElementById("name").value="",document.getElementById("part").value=""}function cell_focus(e){var t,l,n,d;2!=sw?(sw=2,document.getElementById("add_btn").style.backgroundColor="#e9fffc",document.getElementById("add_btn").style.color="#00c2ab",abled(),-1!=tmp&&cell_reset(),t=document.getElementById(e+"_1"),l=document.getElementById(e+"_2"),n=document.getElementById(e+"_3"),d=document.getElementById("output_area"),t.style.backgroundColor="#00c2ab",l.style.backgroundColor="#00c2ab",n.style.backgroundColor="#00c2ab",t.style.color="#ffffff",l.style.color="#ffffff",n.style.color="#ffffff",tmp=e,document.getElementById("name").value=db[e-1][1],document.getElementById("part").value=db[e-1][2],d.value=db[e-1][1]+", "+db[e-1][2]):e!=tmp?(cell_reset(),t=document.getElementById(e+"_1"),l=document.getElementById(e+"_2"),n=document.getElementById(e+"_3"),d=document.getElementById("output_area"),t.style.backgroundColor="#00c2ab",l.style.backgroundColor="#00c2ab",n.style.backgroundColor="#00c2ab",t.style.color="#ffffff",l.style.color="#ffffff",n.style.color="#ffffff",tmp=e,document.getElementById("name").value=db[e-1][1],document.getElementById("part").value=db[e-1][2],d.value=db[e-1][1]+", "+db[e-1][2]):(console.log(e,tmp),cell_reset(),sw=0,disabled(),document.getElementById("name").value="",document.getElementById("part").value="")}function save(){var e,t,l,n,d=document.getElementById("name").value,o=document.getElementById("part").value;switch(sw){case 1:isEmpty(d,o)&&(e=(l=document.getElementById("grid_main")).rows.length,t=(n=l.insertRow(e)).insertCell(0),l=n.insertCell(1),n=n.insertCell(2),t.innerHTML="<center><div class='cell' id='"+e+"_1' onclick='cell_focus("+e+")'>"+e+"</div></center>",l.innerHTML="<center><div class='cell' id='"+e+"_2' onclick='cell_focus("+e+")'>"+d+"</div></center>",n.innerHTML="<center><div class='cell' id='"+e+"_3' onclick='cell_focus("+e+")'>"+o+"</div></center>",db[db.length]=[e,d,o],alert("추가완료"),document.getElementById("name").value="",document.getElementById("part").value="");break;case 2:isEmpty(d,o)&&(document.getElementById(tmp+"_2").innerText=d,document.getElementById(tmp+"_3").innerText=o,db[tmp-1]=[tmp,d,o],alert("수정완료"));break;default:alert("수정하시려면 해당 행을 누르시고, 추가하려면 [추가]를 누르세요")}}