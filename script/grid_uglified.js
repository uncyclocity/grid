var sw=0,db=[],tmp=-1,greenblue="#00c2ab",bright_greenblue="#e9fffc",white="#ffffff";function cell_reset(){var e=$("#"+tmp+"_1"),r=$("#"+tmp+"_2"),l=$("#"+tmp+"_3"),c="#616161";e.css("backgroundColor",white),r.css("backgroundColor",white),l.css("backgroundColor",white),e.css("color",c),r.css("color",c),l.css("color",c),$("#output_area").val(""),tmp=-1}function disabled(){var e=$("#save_btn"),r=$("#name"),l=$("#part"),c=$("#hint1"),t=$("#hint2"),s="#b1b1b1";e.attr("disabled",!0),r.attr("disabled",!0),l.attr("disabled",!0),e.css("borderColor",s),e.css("color",s),c.css("color",s),t.css("color",s)}function abled(){var e=$("#save_btn"),r=$("#name"),l=$("#part"),c=$("#hint1"),t=$("#hint2"),s=greenblue;e.attr("disabled",!1),r.attr("disabled",!1),l.attr("disabled",!1),e.css("borderColor",s),e.css("color",s),c.css("color",s),t.css("color",s)}function isNotEmpty(e,r){return""==e?(alert("이름을 입력하세요"),!1):""!=r||(alert("부서를 입력하세요"),!1)}function clear(){$("#name").val(""),$("#part").val("")}function add(){var e=$("#add_btn");1!=sw?(sw=1,e.css("backgroundColor",greenblue),e.css("color",bright_greenblue),-1!=tmp&&cell_reset(),abled()):(sw=0,e.css("backgroundColor",bright_greenblue),e.css("color",greenblue),disabled()),clear()}function cell_focus(e){var r,l,c,t;2!=sw?(t=$("#add_btn"),1==sw&&(t.css("backgroundColor",bright_greenblue),t.css("color",greenblue)),sw=2,abled(),r=$("#"+e+"_1"),l=$("#"+e+"_2"),c=$("#"+e+"_3"),t=$("#output_area"),r.css("backgroundColor",greenblue),l.css("backgroundColor",greenblue),c.css("backgroundColor",greenblue),r.css("color",white),l.css("color",white),c.css("color",white),tmp=e,$("#name").val(db[e-1][1]),$("#part").val(db[e-1][2]),t.val(db[e-1][1]+", "+db[e-1][2])):e!=tmp?(cell_reset(),r=$("#"+e+"_1"),l=$("#"+e+"_2"),c=$("#"+e+"_3"),t=$("#output_area"),r.css("backgroundColor",greenblue),l.css("backgroundColor",greenblue),c.css("backgroundColor",greenblue),r.css("color",white),l.css("color",white),c.css("color",white),tmp=e,$("#name").val(db[e-1][1]),$("#part").val(db[e-1][2]),t.val(db[e-1][1]+", "+db[e-1][2])):(cell_reset(),sw=0,disabled(),clear())}function save(){var e,r,l,c=$("#name").val(),t=$("#part").val();switch(sw){case 1:isNotEmpty(c,t)&&(e=$("#grid_main"),l="",l+="<tr>",l+="<td><center><div class='cell' id='"+(r=$("#grid_main tr").length)+"_1' onclick='cell_focus("+r+")'>"+r+"</div></center></td>",l+="<td><center><div class='cell' id='"+r+"_2' onclick='cell_focus("+r+")'>"+c+"</div></center></td>",l+="<td><center><div class='cell' id='"+r+"_3' onclick='cell_focus("+r+")'>"+t+"</div></center></td>",l+="</tr>",e.append(l),db[db.length]=[r,c,t],alert("추가완료"),clear());break;case 2:isNotEmpty(c,t)&&($("#"+tmp+"_2").html(c),$("#"+tmp+"_3").html(t),db[tmp-1]=[tmp,c,t],$("#output_area").val(c+", "+t),alert("수정완료"));break;default:alert("수정하시려면 해당 행을 누르시고, 추가하려면 [추가]를 누르세요")}}